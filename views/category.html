<<<template "header">>>
    	<title>分类 - 我的博客</title>
  	</head>
	
	<body  ng-app="categoryApp"  ng-controller="categoryCtrl">
		<div class="navbar navbar-default navbar-fixed-top">
			<div class="container">
				<<<template "navbar" .>>>
			</div>	
		</div>
		
		<div class="container">
			<h1>分类列表</h1>
			<form class="form-inline" method="POST" action="/category">
				<div class="form-group">
					<input id="name" type="text" class="form-control" name="name" placeholder="Enter category name">
				</div>
				<button type="submit" class="btn btn-default" onclick="return checkInput();">添加分类</button>
			</form>
	      
			<table class="table table-striped">
				<thead>
					<tr>
						<th>#</th>
						<th>分类名称</th>
						<th>文章数</th>
						<th>操作</th>
					</tr>
				</thead>
				<tbody>
					<tr  ng-repeat="x in Categories">
						<td>{{x.Id}}</td>
						<td>{{x.Title}}</td>
						<td>{{x.TopicCount}}</td>
						<td>
							<a href="/category/delete?id={{x.Id}}" 
							onclick = "return confirm('您确认要删除该分类的[所有文章]吗?')">删除分类和文章</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</body>
	<<<template "javascript">>>
		
		<!--AngularJS-->
		<script type="text/javascript" src="/static/js/controllers/category.js"></script>		
		<!---->
		
		<script type="text/javascript">
		      	function checkInput() {
		      		var uname = document.getElementById("name");
		      		if (uname.value.length == 0) {
		      			alert("请输入分类名称");
		      			return false;
		      		}
		      	}
				
	    </script>
</html>
